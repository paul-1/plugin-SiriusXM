[% PROCESS settings/header.html %]

	[% WRAPPER settingSection %]
		[% WRAPPER settingGroup title="PLUGIN_SIRIUSXM" desc="" %]
			<div class="prefDesc"><p>[% "PLUGIN_SIRIUSXM_DESC" | string %]</p></div>
			<div class="prefDesc">
				<p><strong>[% "PLUGIN_SIRIUSXM_PROXY_STATUS" | string %]:</strong> 
				<span style="color: [% proxy_status.match('Running') ? 'green' : 'red' %]">[% proxy_status %]</span>
				[% IF proxy_pid %]
					<br><strong>[% "PLUGIN_SIRIUSXM_PROXY_PID" | string %]:</strong> [% proxy_pid %]
				[% END %]
				</p>
				<div style="margin-top: 10px;">
					<input type="submit" name="checkStatus" value="[% 'PLUGIN_SIRIUSXM_CHECK_STATUS' | string %]" class="stdclick" style="margin-right: 10px;">
					<input type="submit" name="restartProxy" value="[% 'PLUGIN_SIRIUSXM_RESTART_PROXY' | string %]" class="stdclick">
				</div>
			</div>
		[% END %]
	[% END %]

	[% WRAPPER setting title="PLUGIN_SIRIUSXM_USERNAME" desc="PLUGIN_SIRIUSXM_USERNAME_DESC" %]
		<input type="text" class="stdedit" name="pref_username" id="username" value="[% prefs.pref_username | html %]" size="40">
	[% END %]

	[% WRAPPER setting title="PLUGIN_SIRIUSXM_PASSWORD" desc="PLUGIN_SIRIUSXM_PASSWORD_DESC" %]
		<input type="password" class="stdedit" name="pref_password" id="password" value="[% prefs.pref_password | html %]" size="40">
	[% END %]

	[% WRAPPER setting title="PLUGIN_SIRIUSXM_PORT" desc="PLUGIN_SIRIUSXM_PORT_DESC" %]
		<input type="text" class="stdedit" name="pref_port" id="port" value="[% prefs.pref_port | html %]" size="40">
	[% END %]

	[% WRAPPER setting title="PLUGIN_SIRIUSXM_QUALITY" desc="PLUGIN_SIRIUSXM_QUALITY_DESC" %]
		<select name="pref_quality" class="stdedit">
			[% FOREACH option = quality_options %]
				<option value="[% option.value %]" [% IF prefs.pref_quality == option.value %]selected[% END %]>[% option.text %]</option>
			[% END %]
		</select>
	[% END %]

	[% WRAPPER setting title="PLUGIN_SIRIUSXM_REGION" desc="PLUGIN_SIRIUSXM_REGION_DESC" %]
		<select name="pref_region" class="stdedit">
			[% FOREACH option = region_options %]
				<option value="[% option.value %]" [% IF prefs.pref_region == option.value %]selected[% END %]>[% option.text %]</option>
			[% END %]
		</select>
	[% END %]

	[% WRAPPER setting title="PLUGIN_SIRIUSXM_ENABLE_METADATA" desc="PLUGIN_SIRIUSXM_ENABLE_METADATA_DESC" %]
		<input type="checkbox" class="stdedit" name="pref_enable_metadata" id="enable_metadata" value="1" [% IF prefs.pref_enable_metadata %]checked[% END %]>
	[% END %]

	[% WRAPPER setting title="PLUGIN_SIRIUSXM_PROXY_LOG_LEVEL" desc="PLUGIN_SIRIUSXM_PROXY_LOG_LEVEL_DESC" %]
		<select name="pref_proxy_log_level" class="stdedit">
			[% FOREACH option = proxy_log_level_options %]
				<option value="[% option.value %]" [% IF prefs.pref_proxy_log_level == option.value %]selected[% END %]>[% option.text %]</option>
			[% END %]
		</select>
	[% END %]

	<div class="prefDesc">
		<input type="submit" name="saveSettings" value="[% 'PLUGIN_SIRIUSXM_SAVE_SETTINGS' | string %]" class="stdclick">
	</div>

[% PROCESS settings/footer.html %]
